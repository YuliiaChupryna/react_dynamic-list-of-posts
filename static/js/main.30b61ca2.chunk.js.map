{"version":3,"sources":["getDataApi.js","User.js","Comment.js","CommentList.js","Post.js","PostList.js","App.js","index.js"],"names":["getGoods","url","fetch","then","response","json","User","_ref","user","react_default","a","createElement","className","concat","name","address","city","street","suite","email","Comment","comment","body","CommentList","comments","map","commentItself","src_Comment","key","id","Post","post","title","src_User","src_CommentList","postComments","PostList","searchingValue","posts","_useState","useState","_useState2","Object","slicedToArray","searchingItem","setSearchingItem","visiblePosts","filter","toLowerCase","includes","toConsumableArray","onChange","_ref2","value","target","type","placeholder","currentPost","src_Post","fullPosts","getPostsWithUsersAndComments","allPosts","allUsers","allComments","find","person","userId","postId","objectSpread2","App","isInitialized","setInitialized","_useState3","_useState4","isLoading","setLoading","_useState5","_useState6","isError","setError","loadPostsWithUsersAndComments","users","regenerator_default","async","_context","prev","next","awrap","Promise","all","getData","sent","t0","stop","onClick","src_PostList","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.30b61ca2.chunk.js","sourcesContent":["const getGoods = url => (\n  fetch(url).then(response => response.json())\n);\n\nexport default getGoods;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst User = ({ user }) => (\n  <div className=\"post__user\">\n    <p>{`name: ${user.name}`}</p>\n    <p>{`city: ${user.address.city}`}</p>\n    <p>{`street: ${user.address.street} `}</p>\n    <p>{`suite: ${user.address.suite} `}</p>\n    <p>{`email: ${user.email}`}</p>\n  </div>\n);\n\nUser.propTypes\n  = { user: PropTypes.oneOfType([PropTypes.object]).isRequired };\n\nexport default User;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst Comment = ({ comment }) => (\n  <div className=\"comment\">\n    <div className=\"comment__name\">{comment.name}</div>\n    <div className=\"comment__body\">{comment.body}</div>\n    <div className=\"comment__email\">{comment.email}</div>\n    <hr />\n  </div>\n);\n\nComment.propTypes\n  = { comment: PropTypes.oneOfType([PropTypes.object]).isRequired };\n\nexport default Comment;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Comment from './Comment';\n\nconst CommentList = ({ comments }) => (\n  <div className=\"commentList\">\n    <h3>Comments</h3>\n    <hr />\n    {comments.map(\n      commentItself => (\n        <Comment comment={commentItself} key={commentItself.id} />)\n    )}\n  </div>\n);\n\nCommentList.propTypes\n  = { comments: PropTypes.oneOfType([PropTypes.array]).isRequired };\n\nexport default CommentList;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport User from './User';\nimport CommentList from './CommentList';\n\nconst Post = ({ post }) => (\n  <section className=\"post\">\n    <article className=\"post__content\">\n      <h2>{post.title}</h2>\n      <p>{post.body}</p>\n      <User user={post.user} />\n    </article>\n    <CommentList comments={post.postComments} />\n    <hr />\n  </section>\n);\n\nPost.propTypes\n  = { post: PropTypes.oneOfType([PropTypes.object]).isRequired };\n\nexport default Post;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport Post from './Post';\n\nconst PostList = ({ posts }) => {\n  const [searchingItem, setSearchingItem] = useState('');\n\n  const handleSearchingInputChange = ({ target: { value } }) => {\n    setSearchingItem(value);\n  };\n\n  const getSearchedPosts = (listOfPosts, searchingValue) => (\n    listOfPosts.filter(post => (\n      post.title.toLowerCase().includes(searchingValue.toLowerCase())\n      || post.body.toLowerCase().includes(searchingValue.toLowerCase())\n    )));\n\n  const visiblePosts = searchingItem\n    ? getSearchedPosts(posts, searchingItem)\n    : [...posts];\n\n  return (\n    <div>\n      <input\n        onChange={handleSearchingInputChange}\n        className=\"posts__search\"\n        type=\"text\"\n        placeholder=\"Search\"\n      />\n      {visiblePosts\n        .map(currentPost => <Post post={currentPost} key={currentPost.id} />)}\n    </div>\n  );\n};\n\nPostList.propTypes\n  = { posts: PropTypes.oneOfType([PropTypes.array]).isRequired };\n\nexport default PostList;\n","import React, { useState } from 'react';\nimport './App.css';\nimport getData from './getDataApi';\nimport PostList from './PostList';\n\nconst postsURL = 'https://jsonplaceholder.typicode.com/posts';\nconst usersURL = 'https://jsonplaceholder.typicode.com/users';\nconst commentsURL = 'https://jsonplaceholder.typicode.com/comments';\n\nlet fullPosts = [];\n\nconst getPostsWithUsersAndComments = (allPosts, allUsers, allComments) => (\n  allPosts.map((post) => {\n    const user = allUsers.find(person => person.id === post.userId);\n    const postComments = allComments\n      .filter(comment => comment.postId === post.id);\n\n    return {\n      ...post,\n      user,\n      postComments,\n    };\n  })\n);\n\nconst App = () => {\n  const [isInitialized, setInitialized] = useState(false);\n  const [isLoading, setLoading] = useState(false);\n  const [isError, setError] = useState(false);\n\n  const loadPostsWithUsersAndComments = async() => {\n    try {\n      setError(false);\n      setLoading(true);\n\n      const [posts, users, comments] = await Promise\n        .all([getData(postsURL), getData(usersURL), getData(commentsURL)]);\n\n      fullPosts = [...getPostsWithUsersAndComments(posts, users, comments)];\n\n      setInitialized(true);\n    } catch {\n      setError(true);\n    }\n\n    setLoading(false);\n  };\n\n  return (\n    <div className=\"App\">\n      {!isInitialized && !isLoading && !isError && (\n        <button\n          type=\"button\"\n          className=\"load load--start\"\n          onClick={loadPostsWithUsersAndComments}\n        >\n          Load\n        </button>\n      )}\n\n      {isLoading && !isError && (<p className=\"loading-text\">Loading...</p>)}\n\n      {isError && (\n        <button\n          type=\"button\"\n          className=\"load load--start\"\n          onClick={loadPostsWithUsersAndComments}\n        >\n          Try again\n        </button>\n      )}\n\n      {isInitialized && !isLoading && (\n        <PostList\n          posts={fullPosts}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}